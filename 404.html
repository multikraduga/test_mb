<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      // Получаем текущий путь
      const path = window.location.pathname;

      // Указываем базовый путь
      const basePath = "/test_mb"; // ваш publicPath в vue.config.js

      // Проверяем, если текущий путь не содержит 'index.html' и не является статическим файлом
      if (
        !path.includes("index.html") &&
        !path.match(/\.(js|css|png|jpg|jpeg|gif|svg|ico)$/)
      ) {
        // Перенаправляем на index.html с сохранением относительного пути для Vue Router
        const relativePath = path.slice(basePath.length);
        window.location.href = basePath + "/index.html" + relativePath;
        console.log(window.location.href);
      } else {
        // Если путь уже содержит 'index.html' или это статический файл, ничего не делаем
        console.log("Перенаправление не требуется, или это статический файл.");
      }
    </script>
  </head>
  <body>
    <p>If you are not redirected, <a href="/test_mb/">click here</a>.</p>
  </body>
</html>
