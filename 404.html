<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <script>
      // Получаем текущий путь
      const path = window.location.pathname;

      // Указываем базовый путь
      const basePath = "/test_mb"; // ваш publicPath в vue.config.js

      // Проверяем, если текущий путь не содержит 'index.html'
      if (!path.includes("index.html")) {
        // Извлекаем относительный путь после basePath
        const relativePath = path.slice(basePath.length);

        // Перенаправляем на index.html, добавляя относительный путь
        window.location.href = basePath + "/index.html" + relativePath;
      } else {
        // Если в пути уже есть 'index.html', ничего не делаем
        console.log("Перенаправление не требуется, уже на index.html");
      }
    </script>
  </head>
  <body>
    <p>If you are not redirected, <a href="/test_mb/">click here</a>.</p>
  </body>
</html>
